<!DOCTYPE html>
<html>
<head>
    <title>Hospital Readmission Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container">
    <h2>Hospital Readmission Risk Prediction</h2>

    <form method="POST">
        <label>Name:</label>
        <input type="text" name="Name" required>

        <label>Gender:</label>
        <select name="Gender" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
        </select>

        <label>Blood Type:</label>
        <select name="BloodType" required>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
        </select>

        <label>Medical Condition:</label>
        <select name="MedicalCondition" required>
            <option value="Asthma">Asthma</option>
            <option value="Arthritis">Arthritis</option>
            <option value="Cancer">Cancer</option>
            <option value="Diabetes">Diabetes</option>
            <option value="Heart Disease">Heart Disease</option>
            <option value="Hypertension">Hypertension</option>
            <option value="Obesity">Obesity</option>
        </select>

        <label>Insurance Provider:</label>
        <select name="InsuranceProvider" required>
            <option value="Public">Public</option>
            <option value="Private">Private</option>
            <option value="None">None</option>
            <option value="Aetna">Aetna</option>
            <option value="Blue Cross">Blue Cross</option>
            <option value="Cigna">Cigna</option>
            <option value="Medicare">Medicare</option>
            <option value="UnitedHealthcare">UnitedHealthcare</option>
        </select>

        <label>Admission Type:</label>
        <select name="AdmissionType" required>
            <option value="Emergency">Emergency</option>
            <option value="Elective">Elective</option>
            <option value="Referral">Referral</option>
            <option value="Urgent">Urgent</option>
        </select>

        <label>Medication:</label>
        <input type="text" name="Medication" required>

        <label>Test Results:</label>
        <select name="TestResults" required>
            <option value="Normal">Normal</option>
            <option value="Abnormal">Abnormal</option>
            <option value="Inconclusive">Inconclusive</option>
        </select>

        <label>Date of Admission:</label>
        <input type="date" name="DateOfAdmission" required>

        <label>Discharge Date:</label>
        <input type="date" name="DischargeDate" value="{{ current_date }}" required>

        <input type="submit" value="Predict">
    </form>

    {% if prediction %}
    <div class="result">
        <strong>Prediction:</strong> {{ prediction }}<br>
        {% if probability is not none %}
        ðŸ“Š <strong>Probability of Readmission:</strong> {{ probability }}%
        {% endif %}
    </div>
    {% endif %}
</div>

<script>
    const form = document.querySelector('form');
    const resultBox = document.querySelector('.result');

    if (form && resultBox) {
        form.addEventListener('input', () => {
            resultBox.style.display = 'none';
        });
    }
</script>

</body>
</html>
